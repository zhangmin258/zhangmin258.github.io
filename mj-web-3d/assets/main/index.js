System.register("chunks:///_virtual/Api.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,r=t.sys,i=t.Component}],execute:function(){var c;o._RF.push({},"15222xS6hhJD5zJCAA/62Py","Api",void 0);var s=n.ccclass;n.property,t("Api",s("Api")(c=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.start=function(){},n.share=function(){"undefined"!=typeof wx?wx.shareAppMessage({title:"3D麻将三消"}):"undefined"!=typeof tt&&console.log("tt.vibrateShort")},n.showAd=function(){if("undefined"!=typeof wx){var t=wx.createRewardedVideoAd({adUnitId:"xxxx"});t.show().catch((function(e){t.load().then((function(){return t.show()})).catch((function(t){return console.log(t.errMsg)}))})),t.onClose((function(t){t&&t.isEnded}))}else"undefined"!=typeof tt&&console.log("tt.vibrateShort")},n.vibrate=function(){console.log("震动",r.platform),"undefined"!=typeof wx?wx.vibrateShort():"undefined"!=typeof tt&&console.log("tt.vibrateShort")},n.update=function(t){},o}(i))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var i,u,e,t,n,c,r;return{setters:[function(o){i=o.createClass},function(o){u=o.cclegacy,e=o.AudioClip,t=o.resources,n=o.Node,c=o.director,r=o.AudioSource}],execute:function(){u._RF.push({},"7c510Ym76tBM5KkYn6JGEz6","AudioMgr",void 0),o("AudioMgr",function(){function o(){this._audioSource=void 0;var o=new n;o.name="__audioMgr__",c.getScene().addChild(o),c.addPersistRootNode(o),this._audioSource=o.addComponent(r)}var u=o.prototype;return u.playOneShot=function(o,i){var u=this;void 0===i&&(i=1),o instanceof e?this._audioSource.playOneShot(o,i):t.load(o,(function(o,e){o?console.log(o):u._audioSource.playOneShot(e,i)}))},u.play=function(o,i,u){var n=this;void 0===i&&(i=1),void 0===u&&(u=!1),o instanceof e?(this._audioSource.stop(),this._audioSource.clip=o,this._audioSource.play(),u&&(this._audioSource.loop=!0),this.audioSource.volume=i):t.load(o,(function(o,u){o?console.log(o):(n._audioSource.stop(),n._audioSource.clip=u,n._audioSource.play(),n.audioSource.volume=i)}))},u.stop=function(){console.log("stop audio play",this._audioSource.name),this._audioSource.stop()},u.pause=function(){this._audioSource.pause()},u.resume=function(){this._audioSource.play()},i(o,[{key:"audioSource",get:function(){return this._audioSource}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new o),this._inst}}]),o}())._inst=void 0,u._RF.pop()}}}));

System.register("chunks:///_virtual/Clear_btn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MJ_slot.ts","./MJ_prefab.ts"],(function(e){var t,n,o,i,r,a,l,s,c,u,p,d,f,_,h,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,l=e._decorator,s=e.Node,c=e.math,u=e.Component,p=e.tween,d=e.Vec3,f=e.BoxCollider,_=e.RigidBody},function(e){h=e.MJ_slot},function(e){v=e.MJ_prefab}],execute:function(){var g,b,m,N,y,C,M;a._RF.push({},"88532NpNFhOoIdBIvKXOVpP","Clear_btn",void 0);var I=l.ccclass,w=l.property;e("Clear_btn",(g=I("Clear_btn"),b=w(s),m=w(s),g((C=t((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"Mask_Node",C,i(t)),o(t,"Tips_Node",M,i(t)),t}n(t,e);var a=t.prototype;return a.start=function(){},a.clearSlotMjNode=function(){var e=this,t=this.node.getComponent(h).node_list;if(0==t.length)return this.Tips_Node.active=!0,void this.scheduleOnce((function(){e.Tips_Node.active=!1}),2);this.Mask_Node.active=!0;for(var n,o=-311.5,i=-2,a=c.randomRangeInt(-2,3),l=function(){var t=n.value;p(t).to(.02,{position:new d(o,600,0)}).call((function(){t.setParent(e.node),t.getComponent(v).UITo3D(),t.getComponent(f).enabled=!0,t.getComponent(_).enabled=!0,t.eulerAngles=new d(0,0,0),t.setScale(1,1,1),t.setPosition(i,2,a),i>=2?i=2:i+=.5,a=c.randomRangeInt(-2,3),t.active=!1,t.active=!0})).start(),o+=88},s=r(t);!(n=s()).done;)l();this.node.getComponent(h).node_list=[],this.scheduleOnce((function(){e.Mask_Node.active=!1}),.5)},a.update=function(e){},t}(u)).prototype,"Mask_Node",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(y.prototype,"Tips_Node",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=y))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dayjs.min.mjs_cjs=&original=.js","./dayjs.min.js"],(function(e){var t,n,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy},null,function(e){o=e.default}],execute:function(){n._RF.push({},"38d3edd9dBKC4l7ldt98Ief","Config",void 0);e("Config",{level:{1:{name:"第 1 关",group:10,type:10,time:180},2:{name:"第 2 关",group:20,type:20,time:270},3:{name:"第 3 关",group:30,type:30,time:360},4:{name:"第 4 关",group:40,type:40,time:480},5:{name:"第 5 关",group:50,type:43,time:600}}}),e("formatTime",(function(e){return o(1e3*e).format("mm:ss")})),e("getMaxRepeat",(function(e){for(var n,o=new Map,r=0,u=null,a=t(e);!(n=a()).done;){var i=n.value,l=(o.get(i)||0)+1;o.set(i,l),l>r&&(r=l,u=i)}return{value:u,count:r}}));n._RF.pop()}}}));

System.register("chunks:///_virtual/Flip_btn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MJ_click.ts"],(function(e){var t,n,i,r,o,c,a,l,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){c=e.cclegacy,a=e._decorator,l=e.Node,s=e.Vec3,u=e.Component},function(e){p=e.MJ_click}],execute:function(){var f,d,h,_,v;c._RF.push({},"3ed8cvD/aBOGI7p95aFAEOA","Flip_btn",void 0);var y=a.ccclass,b=a.property;e("Flip_btn",(f=y("Flip_btn"),d=b(l),f((v=t((_=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"Mask_Node",v,r(t)),t}n(t,e);var c=t.prototype;return c.start=function(){},c.flipCard=function(){var e=this;if(this.node.children.length){this.Mask_Node.active=!0,this.node.getComponent(p).off();for(var t,n=o(this.node.children);!(t=n()).done;){t.value.eulerAngles=new s(0,0,0)}this.scheduleOnce((function(){e.Mask_Node.active=!1}),.5)}},c.update=function(e){},t}(u)).prototype,"Mask_Node",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=_))||h));c._RF.pop()}}}));

System.register("chunks:///_virtual/GetPlayerData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./MJ_click.ts","./AudioMgr.ts","./OpenContext.ts"],(function(e){var t,i,n,a,o,l,r,u,s,c,m,p,g,_,b,f,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.extends},function(e){l=e.cclegacy,r=e._decorator,u=e.Label,s=e.Node,c=e.Animation,m=e.AudioClip,p=e.director,g=e.Component},function(e){_=e.Config,b=e.formatTime},function(e){f=e.MJ_click},function(e){d=e.AudioMgr},function(e){h=e.OpenContext}],execute:function(){var v,y,D,w,j,z,A,C,I,L,S,k,N,O,T,F,U,G,P,x,J,M,B,R,H,Q,V,W,q;l._RF.push({},"6c83cTWSJJNuJpTFV68L/Qj","GetPlayerData",void 0);var E=r.ccclass,K=r.property;e("GetPlayerData",(v=E("GetPlayerData"),y=K(u),D=K(u),w=K(u),j=K(s),z=K(c),A=K(s),C=K(c),I=K(s),L=K(c),S=K(m),k=K(m),N=K(u),O=K(s),v((U=t((F=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"Level",U,a(t)),n(t,"Number",G,a(t)),n(t,"Time",P,a(t)),n(t,"win_dialog_node",x,a(t)),n(t,"win_bg_anim",J,a(t)),n(t,"time_over_dialog_node",M,a(t)),n(t,"time_over_anim",B,a(t)),n(t,"pause_dialog_node",R,a(t)),n(t,"pause_anim",H,a(t)),n(t,"pauseAudio",Q,a(t)),n(t,"successAudio",V,a(t)),n(t,"last_level_label",W,a(t)),n(t,"rank_node",q,a(t)),t.mjData={name:null,group:null,type:null,time:null,number:null},t.timeFlag=!1,t}i(t,e);var l=t.prototype;return l.onLoad=function(){var e=localStorage.getItem("level");e?this.getData(e):(localStorage.setItem("level","1"),this.getData("1")),this.rank_node.getComponent(h).testLevel=Number(e),this.rank_node.getComponent(h).Up_Top()},l.getData=function(e){var t=_.level[e];this.mjData=o({},t,{number:3*t.group})},l.start=function(){this.getDataUI(),this.countDown()},l.getDataUI=function(){this.Level.string=this.mjData.name,this.Number.string="剩余数量："+this.mjData.number},l.countDown=function(){var e=this;this.Time.string=b(this.mjData.time);this.schedule((function t(){e.timeFlag&&(e.mjData.time-=1,e.Time.string=b(e.mjData.time),e.mjData.time<=0&&(e.unschedule(t),e.timeOver()))}),1)},l.timeOver=function(){this.node.getComponent(f).off(),this.timeFlag=!1,this.time_over_dialog_node.active=!0,this.time_over_anim.play("LowBgUI")},l.timeAdd=function(){var e=this;console.log("看广告增加60秒"),this.scheduleOnce((function(){e.mjData.time=60,e.timeFlag=!0,e.time_over_dialog_node.active=!1,e.time_over_anim.stop(),e.countDown()}),.1)},l.updateNumber=function(){if(this.mjData.number-=3,this.getDataUI(),this.mjData.number<=0){this.win_dialog_node.active=!0,this.win_bg_anim.play("LowBgUI"),d.inst.playOneShot(this.successAudio);var e=localStorage.getItem("level");Number(e)===Object.keys(_.level).length&&(this.last_level_label.string="重新开始")}else this.node.getComponent(f).on(),this.last_level_label.string="下一关"},l.nextLevel=function(){var e=localStorage.getItem("level"),t=Number(e)+1;t>Object.keys(_.level).length?localStorage.setItem("level","1"):localStorage.setItem("level",t.toString()),p.loadScene("C1")},l.pauseGame=function(){console.log("暂停游戏",this.pauseAudio),this.node.getComponent(f).off(),this.pause_dialog_node.active=!0,this.pause_anim.play("LowBgUI"),d.inst.playOneShot(this.pauseAudio)},l.continueGame=function(){this.node.getComponent(f).on(),this.pause_dialog_node.active=!1,this.pause_anim.stop()},l.update=function(e){},t}(g)).prototype,"Level",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(F.prototype,"Number",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(F.prototype,"Time",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(F.prototype,"win_dialog_node",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(F.prototype,"win_bg_anim",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(F.prototype,"time_over_dialog_node",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(F.prototype,"time_over_anim",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(F.prototype,"pause_dialog_node",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(F.prototype,"pause_anim",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(F.prototype,"pauseAudio",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(F.prototype,"successAudio",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(F.prototype,"last_level_label",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(F.prototype,"rank_node",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=F))||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Api.ts","./AudioMgr.ts","./Clear_btn.ts","./Config.ts","./Flip_btn.ts","./GetPlayerData.ts","./MJ_click.ts","./MJ_init.ts","./MJ_prefab.ts","./MJ_slot.ts","./OpenContext.ts","./Rank_btn.ts","./Remove_btn.ts","./Rule_btn.ts","./Shuffle_btn.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MJ_click.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MJ_prefab.ts","./MJ_slot.ts","./GetPlayerData.ts","./AudioMgr.ts"],(function(t){var e,n,o,i,r,a,c,s,l,u,p,f,h,d,y,g,m,M,_,C,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Camera,s=t.Node,l=t.AudioClip,u=t.geometry,p=t.input,f=t.Input,h=t.PhysicsSystem,d=t.BoxCollider,y=t.RigidBody,g=t.Vec3,m=t.Component},function(t){M=t.MJ_prefab},function(t){_=t.MJ_slot},function(t){C=t.GetPlayerData},function(t){T=t.AudioMgr}],execute:function(){var b,J,v,D,P,E,A,R,k;r._RF.push({},"e2116V8YEVPU7BMIXNAiILr","MJ_click",void 0);var N=a.ccclass,w=a.property;t("MJ_click",(b=N("MJ_click"),J=w(c),v=w(s),D=w(l),b((A=e((E=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).Ray=new u.Ray,o(e,"camera",A,i(e)),o(e,"MJParent",R,i(e)),o(e,"clickMjAudio",k,i(e)),e}n(e,t);var r=e.prototype;return r.start=function(){},r.on=function(){p.on(f.EventType.TOUCH_END,this.onTouchEnd,this),this.node.getComponent(C).timeFlag=!0},r.off=function(){p.off(f.EventType.TOUCH_END,this.onTouchEnd,this),this.node.getComponent(C).timeFlag=!1},r.onDestroy=function(){p.off(f.EventType.TOUCH_END,this.onTouchEnd,this)},r.onTouchEnd=function(t){var e=t.getLocationX(),n=t.getLocationY();if(this.camera.screenPointToRay(e,n,this.Ray),h.instance.raycastClosest(this.Ray)){var o=h.instance.raycastClosestResult.collider.node;if("MaJiang"===o.name){T.inst.playOneShot(this.clickMjAudio);o.getComponent(M).bh;this.MJ_3DTo2D(o)}}},r.MJ_3DTo2D=function(t){t.getComponent(d).enabled=!1,t.getComponent(y).enabled=!1,t.getComponent(M).UITo2D();var e=t.getWorldPosition(),n=this.camera.convertToUINode(e,this.MJParent);t.setPosition(n),t.setParent(this.MJParent),t.setScale(118,118,118),t.eulerAngles=new g(90,0,0),this.node.getComponent(_).setNodeList(t)},r.update=function(t){},e}(m)).prototype,"camera",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(E.prototype,"MJParent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(E.prototype,"clickMjAudio",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=E))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/MJ_init.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MJ_prefab.ts","./MJ_click.ts","./GetPlayerData.ts","./Api.ts"],(function(t){var n,e,i,o,r,a,u,s,l,c,f,p,h,d,M,_,v,J,g,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Node,s=t.AudioClip,l=t.Prefab,c=t.NodePool,f=t.instantiate,p=t.math,h=t.AudioSource,d=t.Component,M=t.RigidBody,_=t.Vec3},function(t){v=t.MJ_prefab},function(t){J=t.MJ_click},function(t){g=t.GetPlayerData},function(t){m=t.Api}],execute:function(){var y,P,b,A,L,S,C,N,w;r._RF.push({},"a7807Fu46JNiLSnlnBacIud","MJ_init",void 0);var D=a.ccclass,I=a.property;t("MJ_init",(y=D("MJ_init"),P=I(u),b=I(s),A=I(l),y((C=n((S=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"Mask_Node",C,o(n)),i(n,"shuffleAudio",N,o(n)),i(n,"MJ_Prefab",w,o(n)),n.MJ_Pool=null,n.MJ_List=[],n}e(n,t);var r=n.prototype;return r.start=function(){this.gameInit()},r.onDestroy=function(){this.MJ_Pool.clear(),this.MJ_Pool=null},r.gameInit=function(){var t=this.node.getComponent(g).mjData;console.log("游戏初始化",t);var n=3*t.group,e=t.group,i=t.type;this.runPool(n),this.runRandomName(e,i)},r.runPool=function(t){this.MJ_Pool=new c;for(var n=0;n<t;n++){var e=f(this.MJ_Prefab);this.MJ_Pool.put(e)}},r.runRandomName=function(t,n){for(var e=0;e<t;e++)for(var i=p.randomRangeInt(1,n+1),o=0;o<3;o++)this.MJ_List.push(i);for(var r=this.MJ_List.length-1;r>0;r--){var a=p.randomRangeInt(0,r+1),u=[this.MJ_List[a],this.MJ_List[r]];this.MJ_List[r]=u[0],this.MJ_List[a]=u[1]}this.runSend(1,this.MJ_List)},r.runSend=function(t,n){var e=this;void 0===t&&(t=1),void 0===n&&(n=[]);var i=0,o=0;this.playShuffleAudio(1);this.schedule((function r(){var a=null;1==t?a=e.MJ_Pool.get():2==t&&(a=f(e.MJ_Prefab));var u=n.pop();if(!u)return e.unschedule(r),e.Mask_Node.active=!1,e.node.getComponent(J).on(),void e.playShuffleAudio(2);a.setParent(e.node),a.getComponent(v).setBh(u);var s=.5*Math.cos(i),l=.5*Math.sin(i),c=1+o++/100;a.setPosition(s,c,l),a.getComponent(M).setLinearVelocity(new _(6*s,0,6*l)),i+=20*Math.PI/180,e.node.getComponent(m).vibrate()}),.01)},r.playShuffleAudio=function(t){void 0===t&&(t=1);var n=this.node.getComponent(h);n?(n.clip=this.shuffleAudio,1===t?n.play():n.stop()):console.warn("未找到AudioSource组件")},r.update=function(t){},n}(d)).prototype,"Mask_Node",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(S.prototype,"shuffleAudio",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(S.prototype,"MJ_Prefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=S))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/MJ_prefab.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,o=t.Layers,i=t.Component}],execute:function(){var a;n._RF.push({},"66ffduJwoZH+J/8X4NJ0EBJ","MJ_prefab",void 0);var c=r.ccclass;r.property,t("MJ_prefab",c("MJ_prefab")(a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).bh="",e}e(n,t);var r=n.prototype;return r.start=function(){},r.setBh=function(t){this.bh=t+"",this.node.getChildByName(this.bh).active=!0},r.UITo2D=function(){this.node.getChildByName(this.bh).layer=o.Enum.UI_2D},r.UITo3D=function(){this.node.getChildByName(this.bh).layer=o.Enum.UI_3D},r.update=function(t){},n}(i))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/MJ_slot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MJ_prefab.ts","./MJ_click.ts","./MJ_init.ts","./GetPlayerData.ts","./Clear_btn.ts","./AudioMgr.ts","./Api.ts"],(function(o){var t,e,n,i,r,l,s,a,u,c,h,d,_,p,f,m,b,g,v,M,C;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized,r=o.createForOfIteratorHelperLoose},function(o){l=o.cclegacy,s=o._decorator,a=o.Node,u=o.Animation,c=o.AudioClip,h=o.Vec3,d=o.tween,_=o.director,p=o.Component},function(o){f=o.MJ_prefab},function(o){m=o.MJ_click},function(o){b=o.MJ_init},function(o){g=o.GetPlayerData},function(o){v=o.Clear_btn},function(o){M=o.AudioMgr},function(o){C=o.Api}],execute:function(){var w,y,A,k,J,x,N,z,P,S,L,j,D,O,B,I,R;l._RF.push({},"f85cesIeKBLm5sDCli0uwut","MJ_slot",void 0);var F=s.ccclass,G=s.property;o("MJ_slot",(w=F("MJ_slot"),y=G(a),A=G(a),k=G(a),J=G(a),x=G(u),N=G(c),z=G(c),w((L=t((S=function(o){function t(){for(var t,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return t=o.call.apply(o,[this].concat(r))||this,n(t,"boom_node",L,i(t)),n(t,"share_lock_node_1",j,i(t)),n(t,"share_lock_node_2",D,i(t)),n(t,"low_dialog_node",O,i(t)),n(t,"low_bg_anim",B,i(t)),n(t,"failAudio",I,i(t)),n(t,"composeAudio",R,i(t)),t.boomPos=new h(0,0,0),t.node_list=[],t.node_list_data=null,t.slotMaxNum=6,t}e(t,o);var l=t.prototype;return l.start=function(){},l.setNodeList=function(o){var t=this;this.orderMj(o),this.node.getComponent(m).off(),this.moveMj(),this.scheduleOnce((function(){var e=t.threeRemove(o);t.clearCb(e)}),.2)},l.orderMj=function(o){for(var t=o.getComponent(f).bh,e=this.node_list.length-1;e>=0;e--){if(t===this.node_list[e].getComponent(f).bh)return void this.node_list.splice(e+1,0,o)}this.node_list.push(o)},l.moveMj=function(){for(var o,t=-311.5,e=r(this.node_list);!(o=e()).done;){var n=o.value;d(n).to(.2,{position:new h(t,0,0)}).call((function(){})).start(),t+=88}},l.threeRemove=function(o){if(this.node_list.length<3)return 1;for(var t,e=o.getComponent(f).bh,n=[],i=r(this.node_list);!(t=i()).done;){var l=t.value;l.getComponent(f).bh===e&&n.push(l)}if(n.length<3)return 2;for(var s=0;s<3;s++){var a=n[s];this.node.getComponent(b).MJ_Pool.put(a),this.boomPos=n[1].position,this.node_list.splice(this.node_list.indexOf(a),1)}return 3},l.clearCb=function(o){1===o?this.node.getComponent(m).on():2===o?this.maxSlot():3===o&&(M.inst.playOneShot(this.composeAudio),this.clearBoom(),this.moveMj(),this.node.getComponent(g).updateNumber())},l.clearBoom=function(){var o=this,t=.1;this.boom_node.setScale(t,t,t),this.boom_node.setPosition(this.boomPos),this.boom_node.active=!0;this.schedule((function e(){t+=.1,o.boom_node.setScale(t,t,t),t>=.8&&(o.boom_node.active=!1,o.unschedule(e))}),.01)},l.maxSlot=function(){this.node_list.length>=this.slotMaxNum?(this.low_dialog_node.active=!0,this.low_bg_anim.play("LowBgUI"),M.inst.playOneShot(this.failAudio)):this.node.getComponent(m).on()},l.shareUnlock=function(){this.node.getComponent(C).share(),this.scheduleOnce(this.shareLock,.5)},l.shareLock=function(){this.node.getComponent(m).on(),6===this.slotMaxNum?(this.share_lock_node_1.active=!1,this.slotMaxNum=7):7===this.slotMaxNum&&(this.share_lock_node_2.active=!1,this.slotMaxNum=8)},l.restart=function(){_.loadScene("C1")},l.clearContinue=function(){this.low_dialog_node.active=!1,this.low_bg_anim.stop(),this.node.getComponent(v).clearSlotMjNode(),this.node.getComponent(m).on()},l.update=function(o){},t}(p)).prototype,"boom_node",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(S.prototype,"share_lock_node_1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(S.prototype,"share_lock_node_2",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(S.prototype,"low_dialog_node",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(S.prototype,"low_bg_anim",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(S.prototype,"failAudio",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(S.prototype,"composeAudio",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=S))||P));l._RF.pop()}}}));

System.register("chunks:///_virtual/OpenContext.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Component}],execute:function(){var c;n._RF.push({},"0e26da9SKtNv5ue/fTur4CS","OpenContext",void 0);var u=o.ccclass;o.property,t("OpenContext",u("OpenContext")(c=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._openContext=void 0,e.testLevel=null,e}e(n,t);var o=n.prototype;return o.start=function(){},o.Up_Top=function(){},o.update=function(t){},o._reportUserLevel=function(t,e,n){},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Rank_btn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MJ_click.ts","./AudioMgr.ts"],(function(n){var t,i,e,o,r,a,u,l,c,s,p,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,u=n.Node,l=n.Animation,c=n.AudioClip,s=n.Component},function(n){p=n.MJ_click},function(n){d=n.AudioMgr}],execute:function(){var _,f,b,g,k,h,y,m,v;r._RF.push({},"0cd29IryM1LwIi5S+/XwtkT","Rank_btn",void 0);var A=a.ccclass,w=a.property;n("Rank",(_=A("Rank_btn"),f=w(u),b=w(l),g=w(c),_((y=t((h=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,e(t,"rank_dialog_node",y,o(t)),e(t,"rank_bg_anim",m,o(t)),e(t,"buttonAudio",v,o(t)),t}i(t,n);var r=t.prototype;return r.start=function(){},r.handleClickRank=function(){this.rank_dialog_node.active=!0,this.rank_bg_anim.play("LowBgUI"),this.node.getComponent(p).off(),d.inst.playOneShot(this.buttonAudio)},r.continueGame=function(){this.node.getComponent(p).on(),this.rank_dialog_node.active=!1,this.rank_bg_anim.stop()},r.update=function(n){},t}(s)).prototype,"rank_dialog_node",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(h.prototype,"rank_bg_anim",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(h.prototype,"buttonAudio",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=h))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/Remove_btn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MJ_slot.ts","./MJ_prefab.ts","./Config.ts","./MJ_click.ts"],(function(e){var t,o,n,i,r,a,s,c,l,u,p,f,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,s=e._decorator,c=e.Node,l=e.Label,u=e.Component},function(e){p=e.MJ_slot},function(e){f=e.MJ_prefab},function(e){d=e.getMaxRepeat},function(e){h=e.MJ_click}],execute:function(){var _,v,b,g,m,M,N,T,y;a._RF.push({},"aae38K8oTBItoXmCWr0THBB","Remove_btn",void 0);var C=s.ccclass,k=s.property;e("Remove_btn",(_=C("Remove_btn"),v=k(c),b=k(c),g=k(l),_((N=t((M=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"Mask_Node",N,i(t)),n(t,"Tips_Node",T,i(t)),n(t,"Tips_Label",y,i(t)),t}o(t,e);var a=t.prototype;return a.start=function(){},a.removeSlotMjNode=function(){var e=this,t=this.node.getComponent(p).node_list,o=t.map((function(e){return e.getComponent(f).bh}));if(0==t.length)return this.Tips_Node.active=!0,void this.scheduleOnce((function(){e.Tips_Node.active=!1}),2);this.Mask_Node.active=!0;var n=d(o);if(1===n.count){if(!this.isEmptySlot(o.length,2))return this.Tips_Label.string="卡槽空位不足2个",this.Tips_Node.active=!0,this.Mask_Node.active=!1,void this.scheduleOnce((function(){e.Tips_Node.active=!1}),2);for(var i,a=this.getPoolNode(n.value,2),s=r(a);!(i=s()).done;){var c=i.value;this.node.getComponent(h).MJ_3DTo2D(c)}}else if(2===n.count){var l=this.getPoolNode(n.value,1);this.node.getComponent(h).MJ_3DTo2D(l)}this.scheduleOnce((function(){e.Mask_Node.active=!1}),.5)},a.isEmptySlot=function(e,t){return this.node.getComponent(p).slotMaxNum-e>=t},a.getPoolNode=function(e,t){var o=this.node.children.filter((function(t){return t.getComponent(f).bh===e}));return 1===t?o[0]:o},a.update=function(e){},t}(u)).prototype,"Mask_Node",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(M.prototype,"Tips_Node",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(M.prototype,"Tips_Label",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=M))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/Rule_btn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MJ_click.ts","./AudioMgr.ts"],(function(e){var t,n,i,o,r,u,l,a,c,s,p,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,l=e.Node,a=e.Animation,c=e.AudioClip,s=e.Component},function(e){p=e.MJ_click},function(e){_=e.AudioMgr}],execute:function(){var d,f,g,b,h,m,y,v,R;r._RF.push({},"2af95qPmcRHCpWYK6W4yPRE","Rule_btn",void 0);var A=u.ccclass,C=u.property;e("Rule",(d=A("Rule_btn"),f=C(l),g=C(a),b=C(c),d((y=t((m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return t=e.call.apply(e,[this].concat(r))||this,i(t,"rule_dialog_node",y,o(t)),i(t,"rule_bg_anim",v,o(t)),i(t,"buttonAudio",R,o(t)),t}n(t,e);var r=t.prototype;return r.start=function(){this.rule_dialog_node.active=!1},r.handleClickRule=function(){this.rule_dialog_node.active=!0,this.rule_bg_anim.play("LowBgUI"),this.node.getComponent(p).off(),_.inst.playOneShot(this.buttonAudio)},r.continueGame=function(){this.node.getComponent(p).on(),this.rule_dialog_node.active=!1,this.rule_bg_anim.stop()},r.update=function(e){},t}(s)).prototype,"rule_dialog_node",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(m.prototype,"rule_bg_anim",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(m.prototype,"buttonAudio",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/Shuffle_btn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MJ_prefab.ts","./MJ_init.ts","./MJ_click.ts"],(function(t){var n,e,o,i,r,c,a,u,f,l,s,p,h,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Node,u=t.tween,f=t.Vec3,l=t.math,s=t.Component},function(t){p=t.MJ_prefab},function(t){h=t.MJ_init},function(t){d=t.MJ_click}],execute:function(){var _,v,g,M,b;r._RF.push({},"13c3fvZ8PlDSKq0H0XrYg4d","Shuffle_btn",void 0);var m=c.ccclass,y=c.property;t("Shuffle_btn",(_=m("Shuffle_btn"),v=y(a),_((b=n((M=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,o(n,"Mask_Node",b,i(n)),n}e(n,t);var r=n.prototype;return r.start=function(){},r.shuffleMj=function(){var t=this;if(this.node.children.length){var n=[];this.Mask_Node.active=!0,this.node.getComponent(d).off(),this.node.children.forEach((function(e){u(e).to(.3,{position:new f(0,0,0)}).call((function(){var o=e.getComponent(p).bh;n.push(o),t.node.getComponent(h).MJ_Pool.put(e)})).start()})),this.scheduleOnce((function(){for(var e=n.length-1;e>0;e--){var o=l.randomRangeInt(0,e+1),i=[n[o],n[e]];n[e]=i[0],n[o]=i[1]}t.node.getComponent(h).runSend(2,n)}),.5)}},r.update=function(t){},n}(s)).prototype,"Mask_Node",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=M))||g));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});